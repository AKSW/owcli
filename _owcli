#-e --execute (optional)values  Execute one or more commands
#-w --wiki=<value>              Set the wiki which should be used (default)
#-m --model=<value>             Set model which should be used
#                               (http://localhost/OntoWiki/Config/)
#-i --input (optional)values    Set input model file (- for STDIN)
#   --inputOptions=<value>      rapper cmd input options (-i rdfxml)
#-c --config=<value>            Set config file (/home/seebi/.owcli)
#-l --listModels                This is a shortcut for -e store:listModels
#-p --listProcedures            This is a shortcut for -e meta:listAllProcedures
#-d --debug                     Output some debug infos
#-q --quiet                     Do not output info messages
#-r --raw                       Outputs raw json results
#-h --help                      Show this screen

_owcliInputFile () {
    local expl
    _wanted files expl 'RDF File' _files -g '*.(#i)(rdf|n3|nt|owl|tt)(.)'
}

_owcliModel () {
    compadd -- `owcli -l`
    # todo: use $BUFFER and insert --wiki|-w into
}

_owclWiki () {
    local wikis
    wikis=(default demo)
    _describe -t wiki "Wiki Instances" wikis
}

_owcliCommand () {
    declare -a procedures
    procedures=("store\:listServer:lists all jsonrpc server from the wiki instance" "meta" "model")
    #_combination -s '[:@]' server user "$@"
    #compadd -- `owcli -e meta:listProcedures:model`
    #todo: use $BUFFER and insert --wiki|-w into

    #output=(`owcli -e meta:listProcedures:model`)
    #for name in `owcli -e meta:listProcedures:model`; do
    #    echo $name
    #done
    #return
    #args=(`owcli -e meta:listProcedures:model`)
    #print $args
    _describe -t command 'command' procedures
}

_owcli () {
    local context state line
    typeset -A opt_args
    _arguments -S \
        '(-e --execute)'{-e,--execute}'[Execute one or more commands on a given wiki/graph]:command:_owcliCommand' \
        '(-w --wiki)'{-w,--wiki}'[Set OntoWiki database which should be used]:wiki instance:_owclWiki' \
        '(-m --model)'{-m,--model}'[Set model which should be used]:model uri:_owcliModel' \
        '(-i --input)'{-i,--input}'[input model file (- for STDIN)]:input model:_owcliInputFile' \
        '(-c --config)'{-c,--config}'[Set config file]:config file:_files' \
        '(-l --listModels)'{-l,--listModels}'[This is a shortcut for -e store:listModels]' \
        '(-p --listProcedures)'{-p,--listProcedures}'[This is a shortcut for -e meta:listAllProcedures]' \
        '(-d --debug)'{-d,--debug}'[Output some debug infos]' \
        '(-q --quiet)'{-q,--quiet}'[Do not output info messages]' \
        '(-r --raw)'{-r,--raw}'[Outputs raw json results]' \
        '(-h --help)'{-h,--help}'[Prints the help screen]' \
    ;
}

compdef _owcli owcli
